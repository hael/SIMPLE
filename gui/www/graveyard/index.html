<!DOCTYPE html>
<html>
	<head>
		<title>Simple</title>
		<link rel=stylesheet href=css/index.css>
		<link rel=stylesheet href=css/footer.css>
		<link rel=stylesheet href=css/rightpane.css>
		<link rel=stylesheet href=css/centerpane.css>
		<link rel=stylesheet href=css/folderselector.css>
		<link rel=stylesheet href=css/filebrowser.css>
		<link rel=stylesheet href=css/pipelineview.css>
	</head>
	<body>
		<div class=header>
			<img class=headerimage src=img/simple_logo.png>
			<div class=projectselector>
				Project
				<select id=projectselector name=mode onchange=selectProject()>
					<option selected=selected>Select</option>
					<option value=createnew>Create New Project</option>
				</select>
			</div>
		</div>
		
		<table class=bodytable>
			<tr>
				<td class=leftpane id=leftpane>
					<div class=standardprogram onclick=showTask('importtask')>Import</div>
					<div class=standardprogram onclick=showTask('unblurtask')>Motion Correction & CTF Estimation</div>
					<div class=standardprogram onclick=showTask('picktask')>Reference Picking</div>
					<div class=standardprogram onclick=showTask('extracttask')>Extract Particles</div>
					<div class=standardprogram onclick=showTask('prime2dtask')>Prime 2D</div>
					<div class=standardprogram onclick=showTask('ini3dtask')>3D From Averages</div>
					<div class=advancedprogram onclick=showTask('stackopstask')>Stackops</div>
				</td>
				<td class=centerpane id=centerpane>
					<div include-html=tasks/import.html class=taskwindow id=importtask></div>
					<div include-html=tasks/unblur_movies.html class=taskwindow id=unblurtask></div>
					<div include-html=tasks/external_job.html class=taskwindow id=externaljobtask></div>
					<div include-html=tasks/fileviewer.html class=taskwindow id=fileviewertask></div>
					<div include-html=tasks/pipelineview.html class=taskwindow id=pipelineviewtask></div>
					<div include-html=tasks/filesview.html class=taskwindow id=filesviewtask></div>
					<div include-html=tasks/ctffind.html class=taskwindow id=ctffindtask></div>
					<div include-html=tasks/prime2d.html class=taskwindow id=prime2dtask></div>
					<div include-html=tasks/pick.html class=taskwindow id=picktask></div>
					<div include-html=tasks/extract.html class=taskwindow id=extracttask></div>
					<div include-html=tasks/ini3d.html class=taskwindow id=ini3dtask></div>
				</td>
				<td class=rightpane id=rightpane>
					<div class=rightpaneheader>Job History</div>
					<table class=historytable>
					<thead>
						<tr>
							<td><b>Job ID</b></td>
							<td><b>Job Status</b></td>
							<td><b>Job Type</b></td>
							<td class=historyjobname><b>Job Name</b></td>
							<td class=historyjobdescription><b>Job Description</b></td>
							<td><b>Actions</b></td>
						</tr>
					</thead>
					<tbody id=historytable></tbody>
					</table>
				</td>
			</tr>
		</table>
		
		<div class=footer>
			<div class=modeselector >
				Mode
				<select id=modeselector name=mode onchange=selectMode()>
					<option value=standard>Standard</option>
					<option value=advanced>Advanced</option>
				</select>
			</div>
			<img class=fileviewericon src=img/plus.png title='External Job' onclick='showTask("externaljobtask")'>
			<img class=fileviewericon src=img/magnifying_glass.png title='File Browser' onclick='fileBrowser()'>	
		</div>
		
		<div class=gauze id=gauze></div>
		
		<div class=newprojectpopup id=newprojectpopup>
			<div class=popupheader>Create New Project</div>
			<table class=popuptable>
				<tr>
					<td>Project Name</td>
					<td><input id=newprojectname type=text></td>
				</tr>
				<tr>
					<td>Project Folder</td>
					<td><input id=newprojectfolder type=text></td>
					<td><img src=img/folder.png onclick=selectFolder('newprojectfolder')></img></td>
				</tr>	
			</table>
			<div class=clickbutton onclick=cancelNewProjectPopup()>Cancel</div>
			<div class=clickbutton onclick=confirmNewProjectPopup()>Create</div>
		</div>
		
		<div class=folderselectorpopup id=folderselectorpopup>
			<div class=popupheader>Select Folder</div>
			<table class=popuptable id=folderdirectorytable></table>
			<table class=popuptable id=folderlisttable></table>
			<div class=clickbutton onclick=cancelFolderSelection()>Cancel</div>
			<div class=clickbutton onclick=confirmFolderSelection()>Select</div>
		</div>
		
		<div class=filebrowserpopup id=filebrowserpopup>
			<div class=popupheader>File Browser</div>
			<table class=popuptable id=filebrowserdirectorytable></table>
			<table class=popuptable id=filebrowserlisttable></table>
			<div class=clickbutton onclick=cancelFileBrowser()>Cancel</div>
			<div class=clickbutton onclick=confirmFileBrowser()>Open</div>
		</div>
		
		<div class=jobrunparameterspopup id=jobrunparameterspopup>
			<div class=popupheader>Job Parameters</div>
			<table class=popuptable id=jobrunparameterstable>
				<tr>
					<td>Number Parts</td>
					<td><input type=number id=nparts class=jobarg></td>
				</tr>
				<tr>	
					<td>Number Threads Per Part</td>
					<td><input type=number id=nthr class=jobarg></td>
				</tr>
				<tr>
					<td>Submit To Cluster</td>
					<td><input type=checkbox id=cluster class=jobarg></td>
				</tr>
				<tr>
					<td>Submission System</td>
					<td>
						<select id=qsys_name class=jobarg>
							<option value=local>Local</option>
							<option value=slurm>Slurm</option>
							<option value=pbs>PBS</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>Cluster Partition</td>
					<td><input type=text id=qsys_partition class=jobarg></td>
				</tr
				<tr>
					<td>Number Of Tasks Per Socket</td>
					<td><input type=number id=job_ntasks_per_socket class=jobarg></td>
				</tr
				<tr>
					<td>Number Of CPUs Per Task</td>
					<td><input type=number id=job_cpus_per_task class=jobarg></td>
				</tr
				<tr>
					<td>Memory Per Task</td>
					<td><input type=number id=job_memory_per_task class=jobarg></td>
				</tr>
				<tr>
					<td>Time Per Image</td>
					<td><input type=number id=time_per_image class=jobarg></td>
				</tr>
			</table>
			<div class=clickbutton onclick=hideRunParameters()>Cancel</div>
			<div class=clickbutton id=jobrunparametersrunbutton>Run</div>
		</div>
		
		<script src=index.js></script>
		
	</body>
</html> 
