# Makefile_macros for the gfortran/ifort compilers.

####### The project path #####

Simple_source=/Users/hael/src/fortran/simple3.0

####### The switches #####

DOPENMP = -fopenmp
DCUDA = 
DOPENCL = 
DMAGMA = 
DMKL = 
DSIMPLE_MPI = 
DBENCH = 

####### The MPI paths #####

MPIDIR=
MPIDIR_INCLUDE=

####### The compilers paths #####

CCCOMP=/sw/bin/gcc-fsf-5
GCC=/sw/bin/gcc-fsf-5
MPIFORTRAN=/sw/bin/mpif90
GFORTRAN=/sw/bin/gfortran

####### The CUDA and MAGMA paths #####

CUDADIR=

MAGMADIR=
MAGMADIR_CONTROL=$(MAGMADIR)/control
MAGMADIR_INCLUDE=$(MAGMADIR)/include

####### The OpenCL paths #####

OPT_DEV_TOOLS_NVIDIA = 

####### Set MAGMA-ADDONS={Magma version} to compile Magma addons. #####

GPU_MODEL=0.0     #0: tesla arch, 1: fermi arch 

####### Modules and objects directories. #####

OBJDIR=obj/GFORTgpu
MODDIR=obj/GFORTgpu

##############
# C compiler.#
##############

CC=$(CCCOMP)
CFLAGS=-DCUBLAS_GFORTRAN -DADD_ -O3 -O -DMACOSX -fopenmp    
CCLIB=$(CC) -c $(CFLAGS) -I $(MODDIR)                                            \
                         -I $(Simple_source)/include                             \
                         -I $(Simple_source)/include/simple                      \
                         -I $(Simple_source)/include/OpenCL                      \
                         -I $(Simple_source)/include/mpe                         \
                         -I /sw/include/

################
# C++ compiler.#
################

CPP=$(GCC)
CPPFLAGS=-DADD_ -O3 -DMACOSX -fopenmp    
CPPCLIB=$(CPP) -c $(CPPFLAGS) -I $(MODDIR)                                            \
                              -I $(Simple_source)/include                             \
                              -I $(Simple_source)/include/simple                      \
                              -I $(Simple_source)/include/OpenCL                      \
                              -I $(Simple_source)/include/mpe                         \
                              -I $(Simple_source)/test_code                           \
                              -I /sw/include/

#######################
# Fortran 77 compiler.#
#######################

F77C=$(GFORTRAN)
F77FLAGS=-O3 -cpp
F77CLIB=$(F77C) -c $(F77FLAGS)

#######################
# Fortran 90 compiler.#
#######################

# $(DLIB)
F90C=$(GFORTRAN)
F90FLAGS=-fimplicit-none -fall-intrinsics -ffree-form -cpp -fpic -fno-second-underscore -O3 -DMACOSX -fopenmp      
F90FLAGS77=-fimplicit-none -fall-intrinsics -ffree-form -cpp -fpic -fno-second-underscore -O3 -DMACOSX -fopenmp      
F90CLIB=$(F90C) -c $(F90FLAGS) -I .                                \
                               -I $(MODDIR)                        \
                               -J $(MODDIR)                        \
                               -I $(Simple_source)/include/simple


F90CLIB77=$(F90C) -c $(F90FLAGS77) -I .                                \
                                   -I $(MODDIR)                        \
                                   -J $(MODDIR)                        \
                                   -I $(Simple_source)/include/simple

F90POST=

#######################
# MPIF90 compiler.    #
#######################

MPIF90C=$(MPIFORTRAN)
MPIF90FLAGS=-fimplicit-none -fall-intrinsics -ffree-form -cpp -fno-second-underscore -O3 -DMACOSX 
MPIF90FLAGS77=-fimplicit-none -fall-intrinsics -ffree-form -cpp -fpic -fno-second-underscore -O3 -DMACOSX 
MPIF90CLIB=$(MPIF90C) -c $(MPIF90FLAGS) -I .                      \
                               -I $(MODDIR)                       \
                               -J $(MODDIR)                       \
                               -I $(MPIDIR_INCLUDE)               \
                               -I $(Simple_source)/include/simple

MPIF90CLIB77=$(MPIF90C) -c $(MPIF90FLAGS77) -I .                     \
                                  -I $(MODDIR)                       \
                                  -J $(MODDIR)                       \
                                  -I $(MPIDIR_INCLUDE)               \
                                  -I $(Simple_source)/include/simple

MPIF90POST=

