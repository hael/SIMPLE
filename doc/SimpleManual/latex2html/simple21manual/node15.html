<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>File Formats</TITLE>
<META NAME="description" CONTENT="File Formats">
<META NAME="keywords" CONTENT="simple21manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="simple21manual.css">

<LINK REL="previous" HREF="node14.html">
<LINK REL="up" HREF="node7.html">
<LINK REL="next" HREF="node16.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html269"
  HREF="node16.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/sw/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html265"
  HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/sw/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html261"
  HREF="node14.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/sw/share/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html267"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/sw/share/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html270"
  HREF="node16.html">Parallel SIMPLE execution on</A>
<B> Up:</B> <A NAME="tex2html266"
  HREF="node7.html">Installation</A>
<B> Previous:</B> <A NAME="tex2html262"
  HREF="node14.html">Installation of SIMPLE binaries</A>
 &nbsp; <B>  <A NAME="tex2html268"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00056000000000000000">
File Formats</A>
</H2>

<P>
SIMPLE2.1 supports both SPIDER (<TT>*.spi</TT>) and MRC (<TT>*.mrc</TT>) formats for image stacks and volumes. The MRC file handling classes are shared with the the Frealix program for helical reconstruction (<A
 HREF="#rohou2014frealix">, </A>). Relion (<A
 HREF="#Scheres:2012aa">, </A>) uses the convention that MRC stacks have the suffix <TT>*.mrcs</TT> and volumes the suffix <TT>*.mrc</TT>. This is to overcome the annoyance that it is not possible to tell from an MRC file header whether a MRC file is a volume or a stack. With SIMPLE you can select to use either the <TT>*.mrcs</TT> or <TT>*.mrc</TT> suffix for stacks. The way that we keep track of whether a file is a volume or stack is via the command line key value. The key-value pairs <TT>vol1=rec.mrc</TT> and <TT>vol2=rec2.mrc</TT> refer to volumes whereas the key-value pairs <TT>stk=ptcls.mrc</TT> and <TT>stk2=ptcls2.mrc</TT> refer to stacks. Another notable change is the text file format used to write per-particle information to disk. The SIMPLE text-files used for parameter input/output now use a <TT>key=value</TT> syntax of the form
<PRE>
    e1=80. e2=100. e3=5.5 x=1.23 y=4.25 dfx=2.56 dfy=2.54 angast=30.5 state=1
</PRE>
to represent per-particle information. Internally, the orientation information is stored in a dynamic hash data structure, which gives the file format high flexibility. Therefore, writing conversion scripts to allow interchange of parameters between SIMPLE and other packages is trivial. SIMPLE uses the same conventions as Frealign (<A
 HREF="#Grigorieff:2007aa">, </A>) to represent orientations and CTF parameters. The CTF parameterization obtained by CTFFIND (<A
 HREF="#Mindell:2003aa">, </A>) can be directly plugged into SIMPLE, for example by creating a file <TT>deftab.txt</TT>, looking like:
<PRE>
    dfx=2.56 dfy=2.76 angast=30.5
    dfx=3.50 dfy=3.33 angast=60.0
    dfx=1.98 dfy=2.02 angast=120.5
    ...
</PRE>
and adding <TT>deftab=deftab.txt</TT> and <TT>ctf=yes</TT> to the PRIME command line (if the images are phase-flipped, this should be indicated by <TT>ctf=flip</TT>). The <TT>SIMPLE/scripts</TT> folder contains a perl-script (<TT>convert_frealign2simple.pl</TT>) to convert a Frealing parameter file to a SIMPLE parameter file. This is easy, since both software internally use the http://spider.wadsworth.org/spider_doc/spider/docs/euler.html<B><FONT COLOR="#ff7d00">Spider Euler angle convention</FONT></B>. Other packages may use other conventions.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html269"
  HREF="node16.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/sw/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html265"
  HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/sw/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html261"
  HREF="node14.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/sw/share/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html267"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/sw/share/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html270"
  HREF="node16.html">Parallel SIMPLE execution on</A>
<B> Up:</B> <A NAME="tex2html266"
  HREF="node7.html">Installation</A>
<B> Previous:</B> <A NAME="tex2html262"
  HREF="node14.html">Installation of SIMPLE binaries</A>
 &nbsp; <B>  <A NAME="tex2html268"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Hans Elmlund
2016-05-24
</ADDRESS>
</BODY>
</HTML>
