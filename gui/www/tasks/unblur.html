<div class=jobheader>
	Unblur Movies
</div>

<div class=jobdescription>
	Motion correct movies and calculate CTF parameters
</div>

<div class=jobcolumnselect>
	<div class=jobcolumnheader>Parameters</div>
	<div class=jobtabselect id=parameters onclick="selectJobTab(this);">Job Parameters</div>
	<div class=jobtabselect id=required onclick="selectJobTab(this);">Required Arguments</div>
	<div class=jobtabselect id=optional onclick="selectJobTab(this);">Optional Arguments</div>
	<div class=jobtabselect id=run onclick="selectJobTab(this);">Run Parameters</div>
</div>

<div class="jobcolumn parameters">
	<div class=jobcolumnheader>Job Parameters</div>
	<input class=jobarg type=hidden id=cmd value=simplejob>
	<input class=jobarg type=hidden id=taskname value=unblurjob>
	<input class=jobarg type=hidden id=prg value=unblur>
	<input class=jobarg type=hidden id=jobtype value=unblur>
	<div class=jobcolumnrow>
		<div class=jobargname>Job Name</div>
		<input class=jobarg type=text id=jobname>
	</div>	
	<div class=jobcolumnrow>	
		<div class=jobargname>Job Description</div>
		<input class=jobarg type=text id=jobdescription>
	</div>
</div>

<div class="jobcolumn required">
	<div class=jobcolumnheader>Required Arguments</div>
	<div class=jobcolumnrow>
		<div class=jobargname>Input STAR File</div>
		<input class=jobarg type=text id=starfile>
		<img src=folder.png onclick='fileSelector("file", "starfile");'>
	</div>
	<div class=jobcolumnrow>
		<div class=jobargname>Sampling Distance</div>
		<input class=jobarg type=text id=smpd>
	</div>	
	<div class=jobcolumnrow>
		<div class=jobargname>Acceleration Voltage</div>
		<select class=jobarg id=kv onchange="var kvselect = document.getElementsByClassName('kvselect');
													for(var i = 0; i < kvselect.length; i++){
														if(this.options[this.selectedIndex].value == 300){
															kvselect[i].style.display = 'block';
														} else {
															kvselect[i].style.display = 'none';
														}
													}";
		>
			<option value=120>120 kV</option>
			<option value=200>200 kV</option>
			<option value=300 selected>300 kV</option>
		</select>
	</div>
	<div class="jobcolumnrow kvselect">
		<div class=jobargname >Dose Rate</div>
		<input class=jobarg type=text id=dose_rate>
	</div>
	<div class="jobcolumnrow kvselect">
		<div class=jobargname>Exposure Time</div>
		<input class=jobarg type=text id=exp_time>
	</div>
</div>

<div class="jobcolumn optional">
	<div class=jobcolumnheader>Optional Arguments</div>
	<div class=jobcolumnrow>
		Output File Body
		<input class=jobarg type=text id=fbody>
	</div>	
	
	<div class=jobcolumnrow>
		Starting Low Pass Limit (A)
		<input class=jobarg type=text id=lpstart value=15>
	</div>
	
	<div class=jobcolumnrow>
		Stop Low Pass Limit (A)
		<input class=jobarg type=text id=lpstop value=8>
	</div>
	
	<div class=jobcolumnrow>
		Maximum Halfwidth Shift (px)
		<input class=jobarg type=text id=trs>
	</div>
	
	<div class=jobcolumnrow>
		Power Spectrum Size (px)
		<input class=jobarg type=text id=pspecsz>
	</div>
	
	<div class=jobcolumnrow>
		Length Of Number String
		<input class=jobarg type=text id=numlen>
	</div>
	
	<div class=jobcolumnrow>
		Starting Iteration
		<input class=jobarg type=text id=startit>
	</div>
	
	<div class=jobcolumnrow>
		Image Scale Factor
		<input class=jobarg type=text id=scale>
	</div>
	
	<div class=jobcolumnrow>
		Number Frames To Group
		<input class=jobarg type=text id=nframesgrp value=0>
	</div>
	
	<div class=jobcolumnrow>
		Tomography Mode
		<select class=jobarg id=tomo>
			<option value=yes>yes</option>
			<option value=no selected>no</option>
		</select>
	</div>
	
	<div class=jobcolumnrow>
		Starting Frame Index
		<input class=jobarg type=text id=fromf>
	</div>	
	
	<div class=jobcolumnrow>
		Final Frame Index
		<input class=jobarg type=text id=tof>
	</div>	
	
	<div class=jobcolumnrow>
		Number Sigmas
		<input class=jobarg type=text id=nsig>
	</div>	
	
	<div class=jobcolumnrow>
		Output Filename
		<input class=jobarg type=text id=outfile>
	</div>			
	
</div>

<div class="jobcolumn run">
	<div class=jobcolumnheader>Run Parameters</div>
	<div class=jobcolumnrow>
		<div class=jobargname>Distribute</div>	
		<input class=jobarg type=checkbox id=exec value=simple_exec onchange="if(this.checked){ 
																				this.value = 'simple_distr_exec';
																				var distr = parentElement.parentElement.getElementsByClassName('distr');
																				for(var i = 0; i < distr.length; i++){
																						distr[i].style.display = 'block';
																				}
																				var nondistr = parentElement.parentElement.getElementsByClassName('nondistr');
																				for(var i = 0; i < nondistr.length; i++){
																						nondistr[i].style.display = 'none';
																				}
																			  }else{
																				this.value = 'simple_exec';
																				var distr = parentElement.parentElement.getElementsByClassName('distr');
																				for(var i = 0; i < distr.length; i++){
																						distr[i].style.display = 'none';
																				}
																				var nondistr = parentElement.parentElement.getElementsByClassName('nondistr');
																				for(var i = 0; i < nondistr.length; i++){
																						nondistr[i].style.display = 'block';
																				}
																			  }";
		>
	</div>
	
	<div class="jobcolumnrow">
		<div class=jobargname>Number Threads</div>
		<input class=jobarg type=text id=nthr>
	</div>
	
	<div class="jobcolumnrow distr">
		<div class=jobargname>Number Parts</div>
		<input class=jobarg type=text id=nparts>
	</div>
	
	<div class="jobcolumnrow distr">
		<div class=jobargname>Number Of Compute Units</div>
		<input class=jobarg type=text id=ncunits>
	</div>
	
	<div class="jobcolumnrow distr">
		<div class=jobargname>Scheduler</div>
		<select class=jobarg id=qsys_name>
			<option value=slurm>slurm</option>
			<option value=pbs>pbs</option>
			<option value=sge>sge</option>
			<option value=local selected>local</option>
		</select>
	</div>
		
</div>

<div class=newjobbutton onclick='document.getElementById("job").style.display = "none"; document.getElementById("gauze").style.display = "none"'>Cancel</div>
<div class=newjobbutton onclick='newJob(this); document.getElementById("job").style.display = "none"; document.getElementById("gauze").style.display = "none"'>Run</div>
